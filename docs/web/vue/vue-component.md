## 二、 组件化开发
- 什么是组件化
	- 将一个页面拆分成一个个的小功能块，每个功能块完成属性自己这部分的独立功能块
- Vue组件化思想
	- 提供一种抽象，开发出一个个独立可复用的小组件构造我们的应用
	- 任何的应用都会被抽象成一颗组件树

### 2、组件化基础
- 1. 注册组件
  - 注册的基本步骤
  	- 创建组件构造器  Vue.extend()
  	- 注册组件 Vue.component    传递两个参数 1、注册组件的标签名2、组件构造器
  	- 使用组件   
  	- 注：组件构造器可以省略 vue.componet会自动调用组件构造器

  - 全局和局部组件
  	- vue.component （全局组件）
  		- 注册之后可以用在任何新创建的 Vue 根实例 (new Vue) 的模板中
  		- 该组件可以在任意Vue实例下使用

  	- 局部组件 components
  		- 注册的组件挂载在某个实例中，那么就是一个局部组件

  - 父组件和子组件
  	- 组件和组价之间存在着层级关系
  	- 而其中一种非常重要的关系就是父子组件关系

  - 注册组件语法糖
    - 省去了调用vue.extend()的步骤，而是直接可以使用一个对象来代替
    - 代码示例
      //  注册组件 --> 语法糖
          // 第一个参数组件标签名，第二个参数会自动调用vue.extend()
      ```js
      Vue.component('button-counter',{      
      data: function (){
                return {
                  count: 0
                }
              },
      template: '<button v-on:click="count++">Clicked Me {{ count }} times.</button>'
      	}
      )
      ```
  - 组件数据的存放
  	- 组件对象也有data属性，也可以有methods属性
  	- 只是data属性 必须是一个函数 ，
  	- 而且这个函数返回一个对象，对象内部保存着数据

- 2. 数据传递（父子组件通信）
	- 在开发中 数据需要从上层传递到下层：
		- 让大组件（父组件）将数据传递给小组件（子组件）
	- 如何进行父子组件通信？
		- 1、通过props向子组件传递数据
		- 2、通过事件向父组件发送消息

	- 父级向子级传递
		- props用于父组件向子组件传递数据
		- props的值有两种方式 ：
			- 1、字符串数组，数组中的字符串就是传递时的名称
			- 2、 对象，对象可以设置传递时的类型，也可以设置默认值
			- props数据验证
			```js
				- props: {
          // 1、类型限制
          // cnumber: Array,
          // 2.  类型是对象或者数组是，默认值必须是一个函数
          cnumber: {
            type: Array,
            default (){
          ​    return ['empty Array']
            },
            required: true
          }
        }
				```
				- 验证也可以自定义类型

	- 子级向父级传递

		- 子组件发射事件和参数，父组件监听发射的事件，并定义接收该事件
		- 当子组件需要向父组件传递数据时，就要用到自定义事件
		- 自定义事件流程：

			- 在子组件中，通过$emit('自定义事件名' ,传递参数)
			- 在父组件中，通过v-on 来监听子组件事件

	- 父子组件访问方式

		- 父组件访问子组件：使用$children 或 $refs

			- $children（很少用）

				- this.$children 是一个数组类型，它包含所有子组件对象

			- $children 的缺陷

				- 因为是一个数组类型，访问其中的子组件必须通过索引值，但是当子组件过多时， 需要拿到其中一个 ，就不能确定索引值 ，甚至会发生变化

			- $refs （很常用）

				- 对象类型，默认是一个空对象 ，必须在组件上添加 ref="" 属性
				- $refs和ref指定通常是一起所有的
				- 通过ref 给某一个子组件绑定一个特定的ID
				- 其次，通过this.$refs.ID 就可以访问到该组件

		- 子组件访问父组件： 使用$parent
			- 很少用
			- 注意事项：
				- 虽然允许通过$parent来访问父组件，但是真实的开发中尽量避免这样做
				- 子组件应该尽量避免直接访问父组件的数据。应为这样耦合度太高了

		- 直接访问根组件  $.root

	- 非父子组件通信

		- 非父子组件关系包括多个层级的组件，也包括兄弟组件关系
		- Vue 1.x
			- $dispatch
				- 用于向上派发事件
			- $boradcast
				- 用于向下广播事件
			- 但是Vue2.x都被取消了
		- Vue 2.x
			- 中央事件总线，也就是通过一个中介来完成